<!DOCTYPE html>
<html lang="en">
<head>
	<title>Oregon State Hospital - Survey</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
</head>
<body>
	<div class="container content">
		<h1>Patient Survey</h1>
		<p>This survey is required for patient roomate placement in the Oregon State Hospital</p>
		<form>
			<div class="form-group">
				<input id="name" type="text" class="form-control" placeholder="Name (Required)">
			</div>
			<div class="form-group">
				<input id="photo" type="text" class="form-control" placeholder="Link Patient Photo (Required)">
            </div>
            
            <form>
            <div class="form-group">
                <label for="question1">1. I don't appreciate authority figures telling me what to do:</label>
                <br>
                <fieldset id="q1">
                      <input type="radio" value="1" name="a1"> 1: Strongly Disagree<br>
                      <input type="radio" value="2" name="a1"> 2: Disagree<br>
                      <input type="radio" value="3" name="a1"> 3: Sometimes<br> 
                      <input type="radio" value="4" name="a1"> 4: Agree<br>  
                      <input type="radio" value="5" name="a1"> 5: Strongly Agree<br>
                      <br>
                </fieldset>
            </div>
            <div class="form-group">
                <label for="question2">2. I can hear what other people think:</label>
                <br>
                <fieldset id="q2">
                      <input type="radio" value="1" name="a2"> 1: Strongly Disagree<br>
                      <input type="radio" value="2" name="a2"> 2: Disagree<br>
                      <input type="radio" value="3" name="a2"> 3: Sometimes<br> 
                      <input type="radio" value="4" name="a2"> 4: Agree<br>  
                      <input type="radio" value="5" name="a2"> 5: Strongly Agree<br>
                      <br>
                </fieldset>
            </div>
            <div class="form-group">
                <label for="question3">3. I constantly feel as if I am being followed or monitored:</label>
                <br>
                <fieldset id="q3">
                      <input type="radio" value="1" name="a3"> 1: Strongly Disagree<br>
                      <input type="radio" value="2" name="a3"> 2: Disagree<br>
                      <input type="radio" value="3" name="a3"> 3: Sometimes<br> 
                      <input type="radio" value="4" name="a3"> 4: Agree<br>  
                      <input type="radio" value="5" name="a3"> 5: Strongly Agree<br>
                      <br>
                </fieldset>
            </div>
            <div class="form-group">
                <label for="question4">4. I consider myself a leader:</label>
                <br>
                <fieldset id="q4">
                      <input type="radio" value=1 name="a4"> 1: Strongly Disagree<br>
                      <input type="radio" value=2 name="a4"> 2: Disagree<br>
                      <input type="radio" value=3 name="a4"> 3: Sometimes<br> 
                      <input type="radio" value=4 name="a4"> 4: Agree<br>  
                      <input type="radio" value=5 name="a4"> 5: Strongly Agree<br>
                      <br>
                </fieldset>
            </div>
            <div class="form-group">
                <label for="question5">5. My life choices have caused unrest amongst the people in my personal/professional life:</label>
                <br>
                <fieldset id="q5">
                      <input type="radio" value=1 name="a5"> 1: Strongly Disagree<br>
                      <input type="radio" value=2 name="a5"> 2: Disagree<br>
                      <input type="radio" value=3 name="a5"> 3: Sometimes<br> 
                      <input type="radio" value=4 name="a5"> 4: Agree<br>  
                      <input type="radio" value=5 name="a5"> 5: Strongly Agree<br>
                      <br>
                </fieldset>
            </div>
            <div class="form-group">
                <label for="question6">6. I feel mentally unstable and am in need professional help:</label>
                <br>
                <fieldset id="q6">
                      <input type="radio" value="1" name="a6"> 1: Strongly Disagree<br>
                      <input type="radio" value="2" name="a6"> 2: Disagree<br>
                      <input type="radio" value="3" name="a6"> 3: Sometimes<br> 
                      <input type="radio" value="4" name="a6"> 4: Agree<br>  
                      <input type="radio" value="5" name="a6"> 5: Strongly Agree<br>
                      <br>
                </fieldset>
            </div>
            <div class="form-group">
                <label for="question7">7. I have a problem with the idea of taking medication perscribed by a doctor:</label>
                <br>
                <fieldset id="q7">
                      <input type="radio" value="1" name="a7"> 1: Strongly Disagree<br>
                      <input type="radio" value="2" name="a7"> 2: Disagree<br>
                      <input type="radio" value="3" name="a7"> 3: Sometimes<br> 
                      <input type="radio" value="4" name="a7"> 4: Agree<br>  
                      <input type="radio" value="5" name="a7"> 5: Strongly Agree<br>
                      <br>
                </fieldset>
            </div>
            <div class="form-group">
                <label for="question8">8. I prefer to have a roomate who is a non-smoker:</label>
                <br>
                <fieldset id="q8">
                      <input type="radio" value="1" name="a8"> 1: Strongly Disagree<br>
                      <input type="radio" value="2" name="a8"> 2: Disagree<br>
                      <input type="radio" value="3" name="a8"> 3: Sometimes<br> 
                      <input type="radio" value="4" name="a8"> 4: Agree<br>  
                      <input type="radio" value="5" name="a8"> 5: Strongly Agree<br>
                      <br>
                </fieldset>
            </div>
            <div class="form-group">
                <label for="question9">9. I trust that people are good and have my best interest at heart:</label>
                <br>
                <fieldset id="q9">
                      <input type="radio" value="1" name="a9"> 1: Strongly Disagree<br>
                      <input type="radio" value="2" name="a9"> 2: Disagree<br>
                      <input type="radio" value="3" name="a9"> 3: Sometimes<br> 
                      <input type="radio" value="4" name="a9"> 4: Agree<br>  
                      <input type="radio" value="5" name="a9"> 5: Strongly Agree<br>
                      <br>
                </fieldset>
            </div>
            <div class="form-group">
                <label for="question10">10. I believe this survey was specifically made by the government, to keep tabs on me:</label>
                <br>
                <fieldset id="q10">
                      <input type="radio" value="1" name="a10"> 1: Strongly Disagree<br>
                      <input type="radio" value="2" name="a10"> 2: Disagree<br>
                      <input type="radio" value="3" name="a10"> 3: Sometimes<br> 
                      <input type="radio" value="4" name="a10"> 4: Agree<br>  
                      <input type="radio" value="5" name="a10"> 5: Strongly Agree<br>
                </fieldset>
            </div>            
        </form>
            <div>
            <button type="submit" class="btn btn-primary submit">Submit</button>
            </div>
    </div>

	<footer>
		<div class="container">
			<a href="/home">Oregon State Hospital Roomate Finder</a>
			<span>|</span>
			<a href="https://github.com/yoonslee/FriendFinder">GitHub Repo</a>
		</div>
	</footer>

	<script
	  src="https://code.jquery.com/jquery-3.2.1.min.js"
	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	  crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
</html>

<script type="text/javascript">
    //($('input[name=a1]:checked').val());
    $(".submit").on("click", function(event) {
    event.preventDefault();

    var newPatient = {
			name: $("#name").val().trim(),
			photo: $("#photo").val().trim(),
			userAnswers: [
				$("#q1 input:radio[name=a1]:checked").val(),
				$("#q2 input:radio[name=a2]:checked").val(),
				$("#q3 input:radio[name=a3]:checked").val(),
				$("#q4 input:radio[name=a4]:checked").val(),
				$("#q5 input:radio[name=a5]:checked").val(),
				$("#q6 input:radio[name=a6]:checked").val(),
				$("#q7 input:radio[name=a7]:checked").val(),
				$("#q8 input:radio[name=a8]:checked").val(),
				$("#q9 input:radio[name=a9]:checked").val(),
				$("#q10 input:radio[name=a10]:checked").val()
				]
            };
        console.log(newPatient)

        //form validation
       function validateForm() {
       var isValid = true;
       $(".form-group").each(function() {
         if ($(this).val() === "") {
           isValid = false;
         }
       });
       $(".form-group").each(function() {
         if ($(this).val() === "") {
           isValid = false;
         }
       });
       return isValid;
     }
        $.post("/api/friends", newPatient,
        function(data) {
         // If and else for post????????????????????????????????????????????


        // Clear the form when submitting
        $("#name").val(""),
	    $("#photo").val(""),
        $("#q1").val(""),
		$("#q2").val(""),
		$("#q3").val(""),
		$("#q4").val(""),
		$("#q5").val(""),
		$("#q6").val(""),
		$("#q7").val(""),
		$("#q8").val(""),
		$("#q9").val(""),
		$("#q10").val("")

      });

  });
</script>